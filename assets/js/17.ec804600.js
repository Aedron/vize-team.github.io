(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{382:function(e,t,_){"use strict";_.r(t);var v=_(25),r=Object(v.a)({},(function(){var e=this,t=e.$createElement,_=e._self._c||t;return _("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[_("h1",{attrs:{id:"部署服务"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#部署服务"}},[e._v("#")]),e._v(" 部署服务")]),e._v(" "),_("p",[e._v("Vize 的服务依赖 "),_("a",{attrs:{href:"https://nodejs.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Nodejs"),_("OutboundLink")],1),e._v(" 、 "),_("a",{attrs:{href:"https://nestjs.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Nest"),_("OutboundLink")],1),e._v(" 、"),_("a",{attrs:{href:"https://dev.mysql.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("MySQL"),_("OutboundLink")],1),e._v(" 等技术，只需要以下几步就能完成服务的部署。")]),e._v(" "),_("h2",{attrs:{id:"_1-准备工作"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-准备工作"}},[e._v("#")]),e._v(" 1. 准备工作")]),e._v(" "),_("ol",[_("li",[e._v("安装 Nodejs：>= v12.x")]),e._v(" "),_("li",[e._v("安装 MySQL：>= 5.7")]),e._v(" "),_("li",[e._v("创建 MySQL DateBase: "),_("code",[e._v("vize")]),e._v("，字符集: "),_("code",[e._v("utf-8")])]),e._v(" "),_("li",[e._v("Clone 模板项目："),_("code",[e._v("git clone https://github.com/vize-team/vize-deploy-boilerplate.git")])]),e._v(" "),_("li",[e._v("在项目下运行："),_("code",[e._v("npm i")])])]),e._v(" "),_("h2",{attrs:{id:"_2-配置"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-配置"}},[e._v("#")]),e._v(" 2. 配置")]),e._v(" "),_("p",[e._v("修改模板项目下的 "),_("code",[e._v("src/config.ts")]),e._v(":")]),e._v(" "),_("ul",[_("li",[_("strong",[_("code",[e._v("workspacePath")])]),e._v("：Vize 服务的工作目录，包含临时构建目录、静态资源目录等。")]),e._v(" "),_("li",[_("strong",[_("code",[e._v("port")])]),e._v("：服务运行的端口")]),e._v(" "),_("li",[_("strong",[_("code",[e._v("db")])]),e._v("：数据库配置\n"),_("ul",[_("li",[_("code",[e._v("type")]),e._v("：DB 类型，可选 "),_("code",[e._v("mysql")]),e._v(" 或 "),_("code",[e._v("mariadb")])]),e._v(" "),_("li",[_("code",[e._v("host")]),e._v("：IP 地址")]),e._v(" "),_("li",[_("code",[e._v("port")]),e._v("：端口")]),e._v(" "),_("li",[_("code",[e._v("database")]),e._v("：数据库名")]),e._v(" "),_("li",[_("code",[e._v("username")]),e._v("：用户名")]),e._v(" "),_("li",[_("code",[e._v("password")]),e._v("：密码")])])]),e._v(" "),_("li",[_("strong",[_("code",[e._v("npmRegistry")])]),e._v("（可选）：用来安装物料库依赖的 npm 软件源")]),e._v(" "),_("li",[_("strong",[_("code",[e._v("middlewares")])]),e._v("（可选）：参考："),_("RouterLink",{attrs:{to:"/deploy/middleware.html"}},[e._v("中间件")])],1),e._v(" "),_("li",[_("strong",[_("code",[e._v("generators")])]),e._v("（可选）：参考："),_("RouterLink",{attrs:{to:"/deploy/generator.html"}},[e._v("页面生成")])],1),e._v(" "),_("li",[_("strong",[_("code",[e._v("publishers")])]),e._v("（可选）：参考："),_("RouterLink",{attrs:{to:"/deploy/publisher.html"}},[e._v("发布")])],1),e._v(" "),_("li",[_("strong",[_("code",[e._v("editorPath")])]),e._v("（可选）：编辑器目录")]),e._v(" "),_("li",[_("strong",[_("code",[e._v("managementUIPath")])]),e._v("（可选）：管理端目录")])]),e._v(" "),_("h2",{attrs:{id:"_3-构建-运行"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-构建-运行"}},[e._v("#")]),e._v(" 3. 构建 & 运行")]),e._v(" "),_("p",[e._v("在项目下运行 "),_("strong",[_("code",[e._v("npm run build")])]),e._v("，等待构建完毕后运行 "),_("strong",[_("code",[e._v("npm run start:prod")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);