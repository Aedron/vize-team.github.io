(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{412:function(t,a,s){"use strict";s.r(a);var e=s(21),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"页面容器-container"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#页面容器-container"}},[t._v("#")]),t._v(" 页面容器（Container）")]),t._v(" "),s("p",[t._v("页面容器是生成页面时的模板 HTML 和入口 JavaScript 文件，可以在页面容器中做以下事情：")]),t._v(" "),s("ul",[s("li",[t._v("定义页面 HTML 模板")]),t._v(" "),s("li",[t._v("执行初始化逻辑，如引入公共样式，初始化上报等")]),t._v(" "),s("li",[t._v("定义全局数据（global）")]),t._v(" "),s("li",[t._v("注册页面页面路由控制器（通常用于单页应用）")])]),t._v(" "),s("h2",{attrs:{id:"_1-创建页面容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-创建页面容器"}},[t._v("#")]),t._v(" 1. 创建页面容器")]),t._v(" "),s("p",[t._v("使用 Vize CLI 在"),s("strong",[t._v("素材库根目录下")]),t._v("运行 "),s("code",[t._v("vize create-container <name>")]),t._v("。"),s("br"),t._v("\n在"),s("code",[t._v("src/containers/<name>")]),t._v("目录下创建组件。")]),t._v(" "),s("p",[t._v("文件结构如下：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Container\n├── config.ts ·············· 页面容器配置\n├── index.html.ejs ········· 页面模板 HTML\n└── index.ts ··············· 页面入口文件\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("h2",{attrs:{id:"_2-页面容器配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-页面容器配置"}},[t._v("#")]),t._v(" 2. 页面容器配置")]),t._v(" "),s("p",[t._v("文件名为 "),s("code",[t._v("config.ts")]),t._v("。页面容器配置包括基础信息、容器表单等属性。")]),t._v(" "),s("h3",{attrs:{id:"容器基础信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#容器基础信息"}},[t._v("#")]),t._v(" 容器基础信息")]),t._v(" "),s("p",[s("code",[t._v("info")]),t._v(" 包含以下字段：")]),t._v(" "),s("ul",[s("li",[t._v("name: 页面容器名")]),t._v(" "),s("li",[t._v("desc: 页面容器描述")]),t._v(" "),s("li",[t._v("author: 作者")])]),t._v(" "),s("h3",{attrs:{id:"全局属性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#全局属性"}},[t._v("#")]),t._v(" 全局属性")]),t._v(" "),s("p",[t._v("页面容器配置的 "),s("code",[t._v("globalDataForm")]),t._v(" 和 "),s("code",[t._v("globalStyleForm")]),t._v(" 生成的表单将作为编辑器的 "),s("strong",[t._v("“全局属性”")]),t._v(" 配置项。")]),t._v(" "),s("p",[t._v("表单的值将作为 "),s("code",[t._v("globalData")]),t._v(" 和 "),s("code",[t._v("globalStyle")]),t._v(" 属性传入组件、插件、动作、统一事件监听回调等。")]),t._v(" "),s("h3",{attrs:{id:"页面属性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#页面属性"}},[t._v("#")]),t._v(" 页面属性")]),t._v(" "),s("p",[t._v("页面容器配置的 "),s("code",[t._v("pageDataForm")]),t._v(" 和 "),s("code",[t._v("pageStyleForm")]),t._v(" 生成的表单将作为编辑器的 "),s("strong",[t._v("“页面属性”")]),t._v(" 配置项。")]),t._v(" "),s("p",[t._v("表单的值将作为 "),s("code",[t._v("pageData")]),t._v(" 和 "),s("code",[t._v("pageStyle")]),t._v(" 属性传入组件、插件、动作、统一事件监听回调等。")]),t._v(" "),s("p",[t._v("示例参考："),s("a",{attrs:{href:"https://github.com/vize-team/vize/blob/master/packages/materials-universal/src/containers/universal/config.ts",target:"_blank",rel:"noopener noreferrer"}},[t._v("vize/materials-universal/containers/universal/config.ts"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"_3-模板-html"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-模板-html"}},[t._v("#")]),t._v(" 3. 模板 HTML")]),t._v(" "),s("p",[t._v("文件名为 "),s("code",[t._v("index.html.ejs")]),t._v("。页面的 HTML 模板，可以在模板中自定义 "),s("code",[t._v("favicon")]),t._v("，插入脚本、样式，定义初始化 Loading 态等。")]),t._v(" "),s("h3",{attrs:{id:"模板变量注入"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#模板变量注入"}},[t._v("#")]),t._v(" 模板变量注入")]),t._v(" "),s("p",[t._v("模板中还支持变量注入。在模板中可以通过 "),s("code",[t._v("globalData")]),t._v(" 与 "),s("code",[t._v("globalStyle")]),t._v(" 访问"),s("RouterLink",{attrs:{to:"/dev/container/#全局属性"}},[t._v("页面全局属性")]),t._v("，通过 "),s("code",[t._v("meta")]),t._v(" 访问"),s("RouterLink",{attrs:{to:"/dev-meta/"}},[t._v("页面元数据")]),t._v("。")],1),t._v(" "),s("p",[t._v("如：")]),t._v(" "),s("div",{staticClass:"language-ejs line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-ejs"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("keywords"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),s("span",{pre:!0,attrs:{class:"token ejs language-ejs"}},[s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("<%=")]),s("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v(" globalData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("keywords ")]),s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%>")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("description"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),s("span",{pre:!0,attrs:{class:"token ejs language-ejs"}},[s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("<%=")]),s("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v(" meta"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("desc ")]),s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%>")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("title")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token ejs language-ejs"}},[s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("<%=")]),s("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v(" meta"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title ")]),s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%>")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("title")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token style-attr"}},[s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("style")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),s("span",{pre:!0,attrs:{class:"token style language-css"}},[s("span",{pre:!0,attrs:{class:"token property"}},[t._v("background-color")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token ejs language-ejs"}},[s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("<%=")]),s("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v(" globalStyle"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("backgroundColor ")]),s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%>")])])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("h2",{attrs:{id:"_4-页面入口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-页面入口"}},[t._v("#")]),t._v(" 4. 页面入口")]),t._v(" "),s("p",[t._v("文件名为 "),s("code",[t._v("index.ts")]),t._v(" 文件。")]),t._v(" "),s("p",[t._v("可以在此做一些初始化工作，如引入公共库、初始化上报等。")]),t._v(" "),s("p",[t._v("示例参考："),s("a",{attrs:{href:"https://github.com/vize-team/vize/blob/master/packages/materials-universal/src/containers/universal/index.ts",target:"_blank",rel:"noopener noreferrer"}},[t._v("vize/materials-universal/containers/universal/index.ts"),s("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=n.exports}}]);